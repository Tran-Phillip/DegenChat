(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/logo_black_white.72e114df.png"},59:function(e,t,a){e.exports=a(82)},64:function(e,t,a){},66:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(7),o=a.n(r),i=(a(64),a(11)),c=a(12),l=a(14),u=a(13),m=a(16),h=a.n(m),d=a(19),p=a(21),g=a(54),f=a(113),v=a(121),y=(a(66),Object(g.a)({overrides:{MuiButton:{root:{margin:"10px",padding:"10px"}}},palette:{primary:{light:"#757ce8",main:"#7FC5F8",dark:"#6FB6EA",contrastText:"#000"},secondary:{light:"#ff7961",main:"#F87F7F",dark:"#E86A6A",contrastText:"#000"}},typography:{fontFamily:'"Quicksand", sans-serif',fontSize:20,fontWeightLight:300,fontWeightRegular:300}})),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={clicked:!1},n}return Object(c.a)(a,[{key:"onClick",value:function(){this.setState({clicked:!0}),void 0!=this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){return this.state.clicked||this.props.listen?s.a.createElement(f.a,{theme:y},s.a.createElement(p.Slide,{reverse:!0,triggerOnce:!0,duration:500},s.a.createElement(p.Fade,{reverse:!0,triggerOnce:!0,duration:500},s.a.createElement(v.a,{size:"large",variant:"contained",color:this.props.color},"  ",this.props.text,"  ")))):s.a.createElement(f.a,{theme:y},s.a.createElement(p.Slide,{triggerOnce:!0,delay:200},s.a.createElement(p.Fade,{triggerOnce:!0},s.a.createElement(v.a,{onClick:this.onClick.bind(this),size:"large",variant:"contained",color:this.props.color},"  ",this.props.text,"  "))))}}]),a}(s.a.Component),E=a(20),k=a.n(E),R=(a(73),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={choiceSelected:!1},n}return Object(c.a)(a,[{key:"login",value:function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({choiceSelected:!0}),e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:this.props.RedirectTo("/login");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({choiceSelected:!0}),e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:this.props.RedirectTo("/register");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:"LoginComponent"},s.a.createElement("img",{className:"LoginPageLogo",src:k.a}),s.a.createElement(p.Fade,{delay:300},s.a.createElement(b,{color:"primary",text:"Login",onClick:this.login.bind(this),listen:this.state.choiceSelected}),s.a.createElement(b,{color:"secondary",text:"Register",onClick:this.register.bind(this),listen:this.state.choiceSelected})))}}]),a}(s.a.Component)),O=a(120),x=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).text=void 0,n.text="",n}return Object(c.a)(a,[{key:"render",value:function(){return this.props.listen?s.a.createElement(p.Slide,{reverse:!0,triggerOnce:!0,duration:500},s.a.createElement(p.Fade,{reverse:!0,triggerOnce:!0,duration:500},s.a.createElement(O.a,{color:"primary",id:"outlined-basic",label:this.props.text,variant:"outlined",onChange:this.props.onChange.bind(this)}))):s.a.createElement(p.Slide,{triggerOnce:!0},s.a.createElement(p.Fade,{triggerOnce:!0},s.a.createElement(O.a,{color:"primary",id:"outlined-basic",label:this.props.text,variant:"outlined",onChange:this.props.onChange.bind(this)})))}}]),a}(s.a.Component),w=(a(74),Object(g.a)({overrides:{MuiTextField:{root:{margin:"5px",padding:"5px"}}},palette:{primary:{light:"#757ce8",main:"#7FC5F8",dark:"#6FB6EA",contrastText:"#000"},secondary:{light:"#ff7961",main:"#F87F7F",dark:"#E86A6A",contrastText:"#000"}},typography:{fontFamily:'"Quicksand", sans-serif',fontSize:20,fontWeightLight:300,fontWeightRegular:300}})),S=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).username=void 0,n.password=void 0,n.username="",n.password="",n.state={choiceMade:!1,validEntry:void 0},n}return Object(c.a)(a,[{key:"updateUsername",value:function(e){this.username=e.target.value}},{key:"updatePassword",value:function(e){this.password=e.target.value}},{key:"submit",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({choiceMade:!0}),console.log(this.username+" | "+this.password),e.next=4,fetch("http://localhost:8080/api/v1/Users/"+this.username);case 4:return t=e.sent,e.next=7,t.json();case 7:if(a=e.sent,0!==Object.keys(a).length){e.next=19;break}return console.log(a),console.log("ok"),e.next=13,fetch("http://localhost:8080/api/v1/PostUsers",{method:"POST",body:JSON.stringify({Username:this.username,Password:this.password,ID:0})});case 13:return this.setState({validEntry:!0,choiceMade:!0}),e.next=16,new Promise((function(e){return setTimeout(e,2e3)}));case 16:this.props.RedirectTo("/"),e.next=20;break;case 19:this.setState({validEntry:!1,choiceMade:!1});case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({choiceMade:!0}),e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:this.props.RedirectTo("/");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return void 0==this.state.validEntry||this.state.validEntry?void 0!=this.state.validEntry&&this.state.validEntry?s.a.createElement(f.a,{theme:w},s.a.createElement("div",{className:"RegisterView"},s.a.createElement("img",{className:"LoginPageLogo",src:k.a}),s.a.createElement("p",null,"Account Successfully Created!"))):s.a.createElement(f.a,{theme:w},s.a.createElement("div",{className:"RegisterView"},s.a.createElement("img",{className:"LoginPageLogo",src:k.a}),s.a.createElement(x,{text:"Username",onChange:this.updateUsername.bind(this),listen:this.state.choiceMade}),s.a.createElement(x,{text:"Password",onChange:this.updatePassword.bind(this),listen:this.state.choiceMade}),s.a.createElement(b,{color:"primary",text:"Submit",onClick:this.submit.bind(this),listen:this.state.choiceMade}),s.a.createElement(b,{color:"secondary",text:"Cancel",onClick:this.cancel.bind(this),listen:this.state.choiceMade}))):s.a.createElement(f.a,{theme:w},s.a.createElement("div",{className:"RegisterView"},s.a.createElement("img",{className:"LoginPageLogo",src:k.a}),s.a.createElement("p",null,"Username is already taken. Please try again"),s.a.createElement(x,{text:"Username",onChange:this.updateUsername.bind(this),listen:this.state.choiceMade}),s.a.createElement(x,{text:"Password",onChange:this.updatePassword.bind(this),listen:this.state.choiceMade}),s.a.createElement(b,{color:"primary",text:"Submit",onClick:this.submit.bind(this),listen:this.state.choiceMade}),s.a.createElement(b,{color:"secondary",text:"Cancel",onClick:this.cancel.bind(this),listen:this.state.choiceMade})))}}]),a}(s.a.Component),j=(a(75),Object(g.a)({overrides:{MuiButton:{root:{margin:"10px",padding:"10px"}}},palette:{primary:{light:"#757ce8",main:"#7FC5F8",dark:"#6FB6EA",contrastText:"#000"},secondary:{light:"#ff7961",main:"#F87F7F",dark:"#E86A6A",contrastText:"#000"}},typography:{fontFamily:'"Quicksand", sans-serif',fontSize:20,fontWeightLight:300,fontWeightRegular:300}})),C=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={rooms:[]},n}return Object(c.a)(a,[{key:"createNewRoom",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.prompt("room Name: "),e.next=3,fetch("http://localhost:8080/api/v1/PostRoom",{method:"POST",body:JSON.stringify({Name:t,UsersInRoom:[this.props.username]})});case 3:(a=new WebSocket("ws://localhost:8080/api/v1/OpenWS/"+t)).onopen=function(){console.log("Socket connected: ")},a.onmessage=function(e){console.log("Msg got: ",e);var t=JSON.parse(e.data);1==t.type?n.props.displayRooms():2==t.type&&(n.props.appendMessage(t.body),n.props.updateParent())},this.props.addSocket(t,a),this.props.addRoom(t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"joinRoom",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t,a,n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.prompt("Room To Join: "),e.next=3,fetch("http://localhost:8080/api/v1/Join/"+t+"/"+this.props.username);case 3:(a=new WebSocket("ws://localhost:8080/api/v1/OpenWS/"+t)).onopen=function(){console.log("Socket connected: ")},a.onmessage=function(e){console.log("Msg got: ",e);var t=JSON.parse(e.data);1==t.type?n.props.displayRooms():2==t.type&&(n.props.appendMessage(t.body),n.props.updateParent())},this.props.addSocket(t,a),this.props.addRoom(t),this.props.addRoom("");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:"UserPanel"},s.a.createElement("div",{className:"Panel"},s.a.createElement("div",{className:"IconNameContainer"},s.a.createElement("img",{className:"UserPanelLogo",src:k.a}),s.a.createElement("div",{className:"UsernameDisplay"},s.a.createElement("h1",null,this.props.username))),s.a.createElement("div",{className:"FriendsOnline"}),s.a.createElement(f.a,{theme:j},s.a.createElement(v.a,{color:"primary",variant:"contained",onClick:this.createNewRoom.bind(this)}," New Room "),s.a.createElement(v.a,{color:"primary",variant:"contained",onClick:this.joinRoom.bind(this)}," Join Room "))))}}]),a}(s.a.Component),M=a(116),N=a(117),F=a(118),P=a(119),U=(a(76),Object(g.a)({overrides:{MuiButton:{root:{margin:"10px",padding:"10px"}}},palette:{primary:{light:"#757ce8",main:"#FFFFFF",dark:"#6FB6EA",contrastText:"#000"},secondary:{light:"#ff7961",main:"#F87F7F",dark:"#E86A6A",contrastText:"#000"}},typography:{fontFamily:'"Quicksand", sans-serif',fontSize:20,fontWeightLight:300,fontWeightRegular:300}})),T=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"onClick",value:function(){this.props.RedirectTo(this.props.RoomName)}},{key:"render",value:function(){var e=this.props.UsersInRoom.map((function(e){return s.a.createElement("p",null,"\u2022 ",e)}));return s.a.createElement(f.a,{theme:U},s.a.createElement("a",null,s.a.createElement(M.a,{className:"RoomCard",color:"primary",style:{backgroundColor:"#F87F7F"}},s.a.createElement(N.a,null,s.a.createElement(F.a,{container:!0,direction:"column",alignItems:"center",justify:"center"},s.a.createElement(v.a,{color:"primary",variant:"contained",className:"RoomNameBar",size:"small",onClick:this.onClick.bind(this)},this.props.RoomName)),s.a.createElement(M.a,{className:"PeopleInRoomContainer"},s.a.createElement(N.a,null,s.a.createElement(P.a,null,e)))))))}}]),a}(s.a.Component),L=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onKeyPressed",value:function(e){"Enter"==e.key&&(console.log("Message recieved"),this.props.addMessage(e.target.value,this.props.roomName),e.target.value="")}},{key:"render",value:function(){var e=this.props.messages.map((function(e){return s.a.createElement("p",null," ",e," ")}));return s.a.createElement("div",{className:"RoomView"},e,s.a.createElement("input",{onKeyPress:this.onKeyPressed.bind(this)}))}}]),a}(s.a.Component),I=a(43),W=a(10),A=(a(77),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),console.log("called"),(n=t.call(this,e)).UserRooms=void 0,n.Routes=void 0,n.Messages=void 0,n.sockets=void 0,n.UserRooms=[],n.Routes=[],n.Messages=[],n.sockets={},n.state={CurrentRoom:"/"},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("Mounting"),fetch("http://localhost:8080/api/v1/Rooms/"+this.props.username).then((function(e){return e.json()})).then((function(t){for(var a=0;a<t.length;a++){var n=new WebSocket("ws://localhost:8080/api/v1/OpenWS/"+t[a].Name);n.onopen=function(){console.log("Socket connected: ")},n.onmessage=function(t){console.log("Msg got: ",t);var a=JSON.parse(t.data);1==a.type?e.displayRooms():2==a.type&&(console.log("Got chat message",a.body),e.Messages.push(a.body),e.setState({}))},n.onclose=function(){console.log("Closing the socket")},e.sockets[t[a].Name]=n}})),this.displayRooms()}},{key:"componentWillUnmount",value:function(){console.log("Unmounting")}},{key:"addMessage",value:function(e,t){this.sockets[t].send(e)}},{key:"appendMessage",value:function(e){this.Messages.push(e)}},{key:"displayRooms",value:function(){var e=this;fetch("http://localhost:8080/api/v1/Rooms/"+this.props.username).then((function(e){return e.json()})).then((function(t){for(var a=0;a<t.length;a++)console.log(t[a].UsersInRoom),e.UserRooms.push({Name:t[a].Name,InRoom:t[a].UsersInRoom});e.setState({})}))}},{key:"addRoom",value:function(e){var t=this;fetch("http://localhost:8080/api/v1/Rooms/"+this.props.username).then((function(e){return e.json()})).then((function(e){for(var a=0;a<e.length;a++)console.log(e[a].UsersInRoom),t.UserRooms.push({Name:e[a].Name,InRoom:e[a].UsersInRoom});t.setState({})}))}},{key:"addSocket",value:function(e,t){this.sockets[e]=t}},{key:"redirectTo",value:function(e){this.setState({CurrentRoom:"/rooms/"+e}),this.Messages=[]}},{key:"updateParent",value:function(){this.setState({})}},{key:"render",value:function(){return console.log("DIR: ",this.state.CurrentRoom),console.log("MSG: ",this.Messages),s.a.createElement(I.a,null,s.a.createElement(W.d,null,this.Routes,s.a.createElement(W.b,{path:"/",render:this.defaultView.bind(this)})),s.a.createElement(W.a,{to:this.state.CurrentRoom}))}},{key:"defaultView",value:function(){var e=this;if(console.log("DefaultView"),"/"==this.state.CurrentRoom){var t=this.UserRooms.map((function(t){return s.a.createElement(T,{RoomName:t.Name,UsersInRoom:t.InRoom,RedirectTo:e.redirectTo.bind(e)})}));return this.Routes=this.UserRooms.map((function(t){return s.a.createElement(W.b,{path:"/rooms/"+t.Name,render:function(){return s.a.createElement(L,{roomName:t.Name,messages:e.Messages,addMessage:e.addMessage.bind(e)})}})})),console.log(t,this.UserRooms),this.UserRooms=[],s.a.createElement("div",{className:"Container"},s.a.createElement("div",{className:"UserHomePage"},t),s.a.createElement(C,{username:this.props.username,addRoom:this.addRoom.bind(this),displayRooms:this.displayRooms.bind(this),appendMessage:this.appendMessage.bind(this),updateParent:this.updateParent.bind(this),addSocket:this.addSocket.bind(this)}))}}}]),a}(s.a.Component)),B=(a(80),a(81),Object(g.a)({overrides:{MuiTextField:{root:{margin:"5px",padding:"5px"}}},palette:{primary:{light:"#757ce8",main:"#7FC5F8",dark:"#6FB6EA",contrastText:"#000"},secondary:{light:"#ff7961",main:"#F87F7F",dark:"#E86A6A",contrastText:"#000"}},typography:{fontFamily:'"Quicksand", sans-serif',fontSize:20,fontWeightLight:300,fontWeightRegular:300}})),J=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).username=void 0,n.password=void 0,n.username="",n.password="",n.state={choiceMade:!1,validEntry:void 0},n}return Object(c.a)(a,[{key:"updateUsername",value:function(e){this.username=e.target.value}},{key:"updatePassword",value:function(e){this.password=e.target.value}},{key:"submit",value:function(){var e=Object(d.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({choiceMade:!0}),console.log(this.username+" | "+this.password),e.next=4,fetch("http://localhost:8080/api/v1/Users/"+this.username);case 4:return t=e.sent,e.next=7,t.json();case 7:if(a=e.sent,0!==Object.keys(a).length){e.next=12;break}this.setState({validEntry:!1,choiceMade:!1}),e.next=24;break;case 12:if(a.Password==this.password){e.next=16;break}this.setState({validEntry:!1,choiceMade:!1}),e.next=24;break;case 16:return this.props.SetUser(this.username),this.setState({choiceMade:!0}),e.next=20,new Promise((function(e){return setTimeout(e,500)}));case 20:return this.setState({validEntry:!0}),e.next=23,new Promise((function(e){return setTimeout(e,500)}));case 23:this.props.RedirectTo("/homepage");case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({choiceMade:!0}),e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:this.props.RedirectTo("/");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return void 0==this.state.validEntry||this.state.validEntry?void 0!=this.state.validEntry&&this.state.validEntry?s.a.createElement(f.a,{theme:B},s.a.createElement("div",{className:"SignInComponent"},s.a.createElement("img",{className:"LoginPageLogo",src:k.a}),s.a.createElement("p",null,"Success!"))):s.a.createElement(f.a,{theme:B},s.a.createElement("div",{className:"SignInComponent"},s.a.createElement("img",{className:"LoginPageLogo",src:k.a}),s.a.createElement(x,{text:"Username",onChange:this.updateUsername.bind(this),listen:this.state.choiceMade}),s.a.createElement(x,{text:"Password",onChange:this.updatePassword.bind(this),listen:this.state.choiceMade}),s.a.createElement(b,{color:"primary",text:"Submit",onClick:this.submit.bind(this),listen:this.state.choiceMade}),s.a.createElement(b,{color:"secondary",text:"Cancel",onClick:this.cancel.bind(this),listen:this.state.choiceMade}))):s.a.createElement(f.a,{theme:B},s.a.createElement("div",{className:"SignInComponent"},s.a.createElement("img",{className:"LoginPageLogo",src:k.a}),s.a.createElement("p",null,"Login credentials do not match any in our system. Please try again."),s.a.createElement(x,{text:"Username",onChange:this.updateUsername.bind(this),listen:this.state.choiceMade}),s.a.createElement(x,{text:"Password",onChange:this.updatePassword.bind(this),listen:this.state.choiceMade}),s.a.createElement(b,{color:"primary",text:"Submit",onClick:this.submit.bind(this),listen:this.state.choiceMade}),s.a.createElement(b,{color:"secondary",text:"Cancel",onClick:this.cancel.bind(this),listen:this.state.choiceMade})))}}]),a}(s.a.Component),z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).rooms=void 0,n.state={redirectTo:"/",currentUser:""},n.rooms=[],n}return Object(c.a)(a,[{key:"setRedirect",value:function(e){this.setState({redirectTo:e})}},{key:"setUser",value:function(e){this.setState({currentUser:e})}},{key:"render",value:function(){var e=this;return s.a.createElement(I.a,null,s.a.createElement(W.d,null,s.a.createElement(W.b,{path:"/homepage",render:function(t){return s.a.createElement(A,Object.assign({},t,{username:e.state.currentUser}))}}),s.a.createElement(W.b,{path:"/login",render:function(t){return s.a.createElement(J,Object.assign({},t,{RedirectTo:e.setRedirect.bind(e),SetUser:e.setUser.bind(e)}))}}),s.a.createElement(W.b,{path:"/register",render:function(t){return s.a.createElement(S,Object.assign({},t,{RedirectTo:e.setRedirect.bind(e)}))}}),s.a.createElement(W.b,{path:"/",render:function(){return s.a.createElement(R,{RedirectTo:e.setRedirect.bind(e)})}})),s.a.createElement(W.a,{to:this.state.redirectTo}))}}]),a}(s.a.Component);var V=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.fafc3847.chunk.js.map